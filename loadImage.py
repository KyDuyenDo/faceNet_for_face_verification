import matplotlib.pyplot as plt
from tensorflow.keras.preprocessing.image import load_img
from tensorflow.keras import backend as K
K.set_image_data_format('channels_last')
import json
import numpy as np
import tensorflow as tf
from PIL import Image
import base64
import io
# from IPython import autoreload  # For auto-reloading (if needed)
import tensorflow.keras.models as keras_models
# Đường dẫn đến ảnh
image_path = "C:/Users/Admin/Desktop/facenet-face-verification-and-face-recognition-main/images/duyen.jpg"
image_base64 = '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'
# Tải ảnh và chuyển đổi kích thước thành (160, 160)
imgdata = base64.b64decode(image_base64)
img = Image.open(io.BytesIO(imgdata)) 
    # Chuyển đổi hình ảnh sang định dạng JPEG trước khi sử dụng load_img
# img = img.convert('RGB')
img = tf.keras.preprocessing.image.img_to_array(img)
img = tf.image.resize(img, (160, 160))

print("trước: ", img)

img = np.around(img / 255.0, decimals=12)

print("sau: ", img)


# Hiển thị ảnh gốc và ảnh đã chuyển đổi
# plt.subplot(1, 2, 1)
# plt.imshow(img)
# plt.title("Ảnh gốc")

# plt.subplot(1, 2, 2)
# plt.imshow(img)
# plt.title("Ảnh đã chuyển đổi (160x160)")

plt.show()